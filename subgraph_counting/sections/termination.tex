Finally, we present a lemma that allows us to overapproximate the change in weight of a graph when a rule is applied, followed by our termination criterion. 

\begin{lemma}[Decreasing step]
    \label{subgraph_counting:lem:w_g_geq_w_h_leq}
    Let $\rho \mathop{=} (L \overset{l}{\leftarrowtail} K \overset{r}{\rightarrowtail} R)$ be an injective DPO rewriting rule,
    \( \mathbb{X} \) a set of ruler-graphs,
    \( s_{\mathbb{X}} \mathop{\colon} \mathbb{X} \mathop{\to} \mathbb{N} \) a weight function,
    and \( G \mathop{\Rightarrow}_{\rho,\mathfrak{M}} H \) a rewriting step. 
    If $\rho$ is \( X \)-non-increasing for every ruler-graph \( X \mathop{\in} \mathbb{X} \), then 
    $$
        w_{s_\mathbb{X}}(G) - w_{s_\mathbb{X}}(H) 
        \mathop{\geq} 
        w_{s_\mathbb{X}}(L) - w_{s_\mathbb{X}}(R).
    $$
\end{lemma}
\begin{proof}
    \iflongversion
        See~\textsection~\ref{subgraph_counting:proof:lem:w_g_geq_w_h_leq}.
    \else
        See \cite[Lemma 41]{qiu2025termination}.
    \fi 
\end{proof} 
\begin{theorem}[Termination] 
    \label{subgraph_counting:thm:termination_grs}
    Let \(\mathcal{A}\) and \(\mathcal{B}\) be sets of injective DPO rewriting rules, $\mathbb{X}$ a set of ruler-graphs, and $s_\mathbb{X}$ a weight function. If the following conditions hold:
    \begin{enumerate}
        \item  for every $\rho \mathop{\in} \mathcal{A} \mathop{\cup} \mathcal{B}$ and for every $X \mathop{\in} \mathbb{X}$, the rule $\rho$ is $X$-non-increasing,
        \item for every \(\rho \mathop{\in} \mathcal{A}\), we have \( w_{s_\mathbb{X}}(lhs(\rho)) \mathop{>} w_{s_\mathbb{X}}(rhs(\rho)) \),
        \item for every \(\rho \mathop{\in} \mathcal{B}\), we have \( w_{s_\mathbb{X}}(lhs(\rho)) \mathop{\geq} w_{s_\mathbb{X}}(rhs(\rho)) \).
    \end{enumerate}
    Then \(\mathop{\Rightarrow}_{\mathcal{A},\mathcal{M}}\) terminates relative to \(\mathop{\Rightarrow}_{\mathcal{B},\mathcal{M}}\).
\end{theorem}
\begin{proof}
    \iflongversion
        See~\textsection~\ref{subgraph_counting:proof:lem:w_g_geq_w_h_leq}.
    \else
        See \cite[Lemma 41]{qiu2025termination}.
    \fi 
\end{proof} 